<!DOCTYPE html>
<html lang="pt-BR">

    <head>
        <meta charset="UTF-8">
        <title>Painel Admin - Avanade E-commerce</title>
        <link rel="stylesheet" href="css/style.css">
    </head>

    <body>
        <nav class="topbar">
            <div class="topbar-content">
                <span>Painel Administrativo</span>
                <button onclick="sair()">SAIR</button>
            </div>
        </nav>

        <header>
            <div>
                <img src="/img/banner1.jpg" alt="Banner">
            </div>
        </header>

        <main>
            <div class="login-box">
                <!--<h2>Painel Administrativo</h2><br>-->
                <button onclick="verEstoque()">Visualizar Estoque</button>
                <button onclick="verPedidos()">Visualizar Pedidos</button>
                <button onclick="cadastrarProduto()">Cadastrar Produto</button>
                <button onclick="criarPedido()">Criar Novo Pedido</button>
                <div id="resultado" style="margin-top: 20px;"></div>
            </div>
        </main>

        <footer>
            <div><img src="/img/logo_si.png" alt="Logotipo SI" width="40px" height="35px"></div><br>
            <div><small>&copy; 2025 SICOESQUE . All rights reserved </small>
                <div><small>&copy; Desenvolvido por <a href="https://wa.me/28999452754">Sol
                            Morcillo</a></small></div>
        </footer>

        <script>
            async function cadastrarProduto() {
                const token = localStorage.getItem('token');
                const produto = {
                    nome: document.getElementById('nome').value,
                    descricao: document.getElementById('descricao').value,
                    quantidade: parseInt(document.getElementById('quantidade').value),
                    preco: parseFloat(document.getElementById('preco').value)
                };

                const response = await fetch('https://localhost:5179/api/produtos', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(produto)
                });

                if (response.ok) {
                    document.getElementById('mensagem').textContent = 'Produto cadastrado com sucesso!';
                } else {
                    document.getElementById('mensagem').textContent = 'Erro ao cadastrar produto.';
                    document.getElementById('mensagem').style.color = 'red';
                }
            }
        </script>


        <script>
            function sair() {
                localStorage.removeItem('token');
                window.location.href = 'login.html';
            }
        </script>


    </body>

</html>